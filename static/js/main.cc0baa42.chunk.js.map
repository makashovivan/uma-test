{"version":3,"sources":["features/PersonalInfo/UserPhoto.jsx","features/PersonalInfo/Links.jsx","store/reducers/userInfoSlice.js","features/PersonalInfo/PersonalInfo.jsx","features/Menu/Menu.jsx","store/reducers/fashionsSlice.js","features/FashionList/Components/FashionImageCard.jsx","features/FashionList/Components/ProductCard.jsx","features/FashionList/Components/ProductsContainer.jsx","features/FashionList/Components/ProductsCarousel.jsx","common/utils.js","common/useWindowSize.js","features/FashionList/Components/FashionCard.jsx","features/FashionList/FashionsList.jsx","App.jsx","store/sagas/userInfoSaga.js","store/sagas/fashionsSaga.js","store/rootSaga.js","store/store.js","index.js"],"names":["UserPhoto","userPhotoUrl","mnem","insta","href","rel","target","src","size","className","Links","mysite","whatsapp","telegram","email","userInfoSlice","createSlice","name","initialState","photoUrl","phone","reducers","setUserInfo","state","action","payload","getUserData","selectMnem","userInfo","selectUserPhotoUrl","selectTelegram","selectWhatsApp","selectInstagram","selectEmail","selectMysite","actions","PersonalInfo","dispatch","useDispatch","useEffect","useSelector","Menu","gutter","justify","ghost","classId","fashionsCount","pagesCount","currentPage","isLoading","fashionsMap","Map","productsMap","mainSlice","setIsLoading","setCurrentPage","setPagesCount","setFashionsCount","addFashion","set","fashionId","addFashionsList","forEach","fashion","addProductsList","productsList","getFashionsData","getProductsData","selectFashionsList","Array","from","fashions","values","selectClassId","selectCurrentPage","selectPagesCount","selectIsLoading","FashionImageCard","pictUrl","alt","ProductCard","shopName","shopLink","price","formatedPrice","Intl","NumberFormat","style","currency","minimumFractionDigits","format","textAlign","ProductsContainer","products","wrap","map","product","imgUrl","uproduct","xref","id","ProductsCarousel","get","SIZE","useState","width","height","windowSize","setWindowSize","handleResize","window","innerWidth","innerHeight","addEventListener","removeEventListener","useWindowSize","preparedProductsList","reduce","acc","value","length","push","isOnePage","isEmpty","carouselRef","createRef","border","marginRight","LeftOutlined","onClick","current","prev","RightOutlined","next","ref","dots","FashionCard","marginBottom","backgroundColor","FashionsList","fashionsList","observer","useRef","lastFashionRef","useCallback","node","disconnect","IntersectionObserver","entries","isIntersecting","observe","index","visibilityHeight","UpOutlined","App","getUserDataWorker","userDataWatcher","fetchUserData","a","fetch","select","call","res","json","put","message","error","takeEvery","type","getFashionsDataWorker","getProductsDataWorker","fashionsDataWatcher","fetchFashionsList","page","data","list","collagePictId","fileId","collagePictUrl","totalPages","console","all","mainSaga","enableMapSet","sagaMiddleware","createSagaMiddleware","store","configureStore","reducer","userInfoReducer","fashionsReducer","middleware","run","rootSaga","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cc0baa42.chunk.js","sourcesContent":["import React from 'react';\nimport { Avatar } from 'antd';\n\nfunction UserPhoto({userPhotoUrl, mnem, insta}) {\n  return (\n    <>\n      <a href={insta} rel='noreferrer' target='_blank'>\n        <Avatar src={userPhotoUrl} size={118}/>\n      </a>\n      <div className='mnem'>\n        <a href={insta} rel='noreferrer' target='_blank'>@{mnem}</a>\n      </div>\n    </>\n  )\n};\n\nexport default UserPhoto;\n","import React from 'react';\nimport { Divider } from 'antd';\nimport './PersonalInfo.less';\n\nfunction Links({mysite, whatsapp, telegram, email}) {\n  return (\n    <div>\n      <div>Ссылки автора</div>\n      <Divider className='links-divider'></Divider>\n      <ul className='links-list'>\n        <li className='link'>\n          <a href={mysite} rel='noreferrer' target='_blank'>Мой сайт</a>\n        </li>\n        <li className='link'>\n          <a href={whatsapp} rel='noreferrer' target='_blank'>WhatsApp</a>\n        </li>\n        <li className='link'>\n          <a href={telegram} rel='noreferrer' target='_blank'>Telegram</a>\n        </li>\n        <li className='link'>\n          <a href={email} rel='noreferrer' target='_blank'>Сотрудничество</a>\n        </li>\n      </ul>\n    </div>\n  )\n}\n\nexport default Links;\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst initialState = {\n  mnem: 'tanya_tilcha',\n  photoUrl: '',\n  mysite: '',\n  phone: '',\n  email: '',\n};\n\nexport const userInfoSlice = createSlice({\n  name: 'userInfo',\n  initialState,\n  reducers: {\n    setUserInfo: (state, action) => {\n      state.photoUrl = action.payload.photoUrl;\n      state.mysite = action.payload.mysite;\n      state.phone = action.payload.phone;\n      state.email = action.payload.email;\n    },\n    getUserData: () => {},\n  }\n});\n\nexport const selectMnem = (state) => state.userInfo.mnem;\n\nexport const selectUserInfo = (state) => state.userInfo;\n\nexport const selectUserPhotoUrl = (state) => state.userInfo.photoUrl;\n\nexport const selectTelegram = (state) => `https://t.me/${state.userInfo.mnem}`;\n\nexport const selectWhatsApp = (state) => `https://api.whatsapp.com/send?phone={${state.userInfo.phone}}`;\n\nexport const selectInstagram = (state) => `https://www.instagram.com/${state.userInfo.mnem}`;\n\nexport const selectEmail = (state) => `mailto:${state.userInfo.email}`;\n\nexport const selectMysite = (state) => state.userInfo.mysite;\n\nexport const { setUserInfo, getUserData } = userInfoSlice.actions;\n\nexport default userInfoSlice.reducer;\n","import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport UserPhoto from './UserPhoto';\nimport Links from './Links';\nimport './PersonalInfo.less';\nimport {\n  selectUserPhotoUrl,\n  selectMnem,\n  selectTelegram,\n  selectWhatsApp,\n  selectMysite,\n  selectEmail,\n  getUserData,\n  selectInstagram\n} from '../../store/reducers/userInfoSlice';\n\n\nfunction PersonalInfo() {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getUserData());\n  }, [dispatch]);\n  return (\n    <div className='sidebar-container'>\n      <div className='user-info-container'>\n        <div className='user-photo-container'>\n          <UserPhoto\n            userPhotoUrl={useSelector(selectUserPhotoUrl)}\n            mnem={useSelector(selectMnem)}\n            insta={useSelector(selectInstagram)}/>\n        </div>\n        <Links\n          mysite={useSelector(selectMysite)}\n          whatsapp={useSelector(selectWhatsApp)}\n          telegram={useSelector(selectTelegram)}\n          email={useSelector(selectEmail)}/>\n      </div>\n    </div>\n  )\n};\n\nexport default PersonalInfo;\n","import React from 'react';\nimport { Button, Row, Col } from 'antd';\nimport './Menu.less';\n\nfunction Menu() {\n  return (\n    <div className='menu-container'>\n      <Row\n        gutter={[16]}\n        justify='start'>\n        <Col>\n          <Button className='menu-button' ghost>Одежда</Button>\n        </Col>\n        <Col>\n          <Button className='menu-button' ghost>Подборки</Button>\n        </Col>\n        <Col>\n          <Button className='menu-button' ghost>Детям</Button>\n        </Col>\n        <Col>\n          <Button className='menu-button' ghost>Книги</Button>\n        </Col>\n      </Row>\n    </div>\n  )\n};\n\nexport default Menu;\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst initialState = {\n  classId: 184,\n  fashionsCount: null,\n  pagesCount: null,\n  currentPage: 1,\n  isLoading: false,\n  fashionsMap: new Map(),\n  productsMap: new Map(),\n};\n\n\nexport const mainSlice = createSlice({\n  name: 'fashions',\n  initialState,\n  reducers: {\n    setIsLoading : (state, action) => {\n      state.isLoading = action.payload;\n    },\n    setCurrentPage: (state, action) => {\n      state.currentPage = action.payload;\n    },\n    setPagesCount: (state, action) => {\n      state.pagesCount = action.payload;\n    },\n    setFashionsCount: (state, action) => {\n      state.fashionsCount = action.payload.fashionsCount;\n    },\n    addFashion: (state, action) => {\n      state.fashionsMap.set(action.payload.fashionId, action.payload);\n    },\n    addFashionsList: (state, action) => {\n      action.payload.forEach(fashion => {\n        state.fashionsMap.set(fashion.fashionId, fashion);\n      });\n    },\n    addProductsList: (state, action) => {\n      state.productsMap.set(action.payload.fashionId, action.payload.productsList);\n    },\n    getFashionsData: () => {},\n    getProductsData: () => {},\n  }\n});\n\nexport const selectProductsByFashionId = id => state => state.fashions.productsMap.get(id) || [];\n\nexport const selectFashionsList = (state) => Array.from(state.fashions.fashionsMap.values());\n\nexport const selectClassId = (state) => state.fashions.classId;\n\nexport const selectCurrentPage = (state) => state.fashions.currentPage;\n\nexport const selectPagesCount = (state) => state.fashions.pagesCount;\n\nexport const selectIsLoading = (state) => state.fashions.isLoading;\n\nexport const {\n  setIsLoading,\n  setCurrentPage,\n  setPagesCount,\n  setFashionsCount,\n  addFashion,\n  addProductsList,\n  addFashionsList,\n  getFashionsData,\n  getProductsData,\n} = mainSlice.actions;\n\n\nexport default mainSlice.reducer;\n","import React from 'react';\nimport { Card } from 'antd';\nimport '../Fashion.less';\n\n\nfunction FashionImageCard({pictUrl}) {\n  return (\n    <div className='card-size '>\n      <div className='fashion-image-title'>Подборка одежды</div>\n      <Card className='card-border'>\n        <div className='fashion-image-container'>\n          <img src={pictUrl} alt='' className='limited-image'/>\n        </div>\n      </Card>\n    </div>\n  )\n}\n\nexport default FashionImageCard;\n","import React from 'react';\nimport { Card, Button } from 'antd';\nimport '../Fashion.less';\n\nfunction ProductCard({pictUrl, shopName, shopLink, price}) {\n  const formatedPrice = new Intl.NumberFormat('ru-RU', {\n    style: 'currency',\n    currency: 'RUB',\n    minimumFractionDigits: 0,\n  }).format(price)\n  return (\n    <div style={{ textAlign: 'center'}}>\n      <Card>\n        <div className='shop-title'>{shopName}</div>\n        <div className='product-image-container'>\n          <img src={pictUrl} alt='' className='limited-image'/>\n        </div>\n        <div>{formatedPrice}</div>\n      </Card>\n      <Button href={shopLink} target='_blank' className='to-shop-button'>В магазин</Button>\n    </div>\n  )\n};\n\nexport default ProductCard;\n","import React from 'react';\nimport { Row, Col} from 'antd';\nimport ProductCard from './ProductCard';\nimport '../Fashion.less';\n\nfunction ProductsContainer({products}) {\n  return (\n    <Row className='products-container'  wrap gutter={[11, 10]}>\n        {products.map(product => (\n            <Col>\n              <ProductCard\n                key={product.id}\n                pictUrl={product.imgUrl}\n                shopName={product.uproduct.shopName}\n                shopLink={product.uproduct.xref}\n                price={product.uproduct.price}/>\n            </Col>\n          ))\n        }\n    </Row>\n  )\n};\n\nexport default ProductsContainer;\n","import React, { useEffect, createRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Card, Carousel } from 'antd';\nimport { getProductsData, selectProductsByFashionId } from '../../../store/reducers/fashionsSlice';\nimport ProductsContainer from './ProductsContainer';\nimport { separateArray } from '../../../common/utils';\nimport { LeftOutlined, RightOutlined } from '@ant-design/icons';\nimport { useWindowSize } from '../../../common/useWindowSize';\nimport '../Fashion.less';\n\nfunction ProductsCarousel({fashionId}) {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getProductsData(fashionId));\n  }, [fashionId, dispatch]);\n\n  const productsList = useSelector(selectProductsByFashionId(fashionId));\n  const windowSize = useWindowSize();\n  const SIZE = windowSize.width <= 700 ? 3 : 8;\n  const preparedProductsList = productsList ? separateArray(productsList, SIZE) : [[]];\n  const isOnePage = productsList.length <= SIZE;\n  const isEmpty = productsList.length === 0;\n\n  let carouselRef = createRef();\n\n  const nextClick = () => carouselRef.current.next();\n  const prevClick = () => carouselRef.current.prev();\n\n  return (\n    <div>\n      <Card className='card-size' style={{border: 'none'}}>\n        <div className='carousel-header'>\n          {!isEmpty && <div className='card-title'>Где купить похожее?</div>}\n          {!isOnePage &&\n          <div style={{marginRight: 30}}>\n            <LeftOutlined onClick={prevClick} className='carousel-arrow'/>\n            <RightOutlined onClick={nextClick} className='carousel-arrow'/>\n          </div>}\n        </div>\n        <Carousel ref={carouselRef} dots={false}>\n          {\n            preparedProductsList[0].length && preparedProductsList.map(products => {\n              return <ProductsContainer products={products}/>\n            })\n          }\n        </Carousel>\n      </Card>\n    </div>\n  )\n}\n\nexport default ProductsCarousel;\n","export const separateArray = (array, size) => array.reduce((acc, value)=> {\n  if(acc[acc.length-1].length === size){\n    acc.push([]);\n  }\n  acc[acc.length-1].push(value);\n  return acc;\n}, [[]])\n","import { useState, useEffect } from \"react\";\n\nexport function useWindowSize() {\n  const [windowSize, setWindowSize] = useState({\n    width: null,\n    height: null,\n  });\n  useEffect(() => {\n    const handleResize = () => {\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    }\n    window.addEventListener(\"resize\", handleResize);\n    handleResize();\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n  return windowSize;\n}\n","import React from 'react';\nimport { Row, Col, Divider } from 'antd';\nimport FashionImageCard from './FashionImageCard';\nimport ProductsCarousel from './ProductsCarousel';\nimport '../Fashion.less';\n\nfunction FashionCard({pictUrl, fashionId }) {\n  return (\n      <Row className='fashion-container'>\n        <Col style={{marginBottom: 15}} className='card-indent'>\n          <FashionImageCard pictUrl={pictUrl}/>\n        </Col>\n        <Col style={{marginBottom: 15}}>\n          <ProductsCarousel fashionId={fashionId}/>\n        </Col>\n        <Divider style={{backgroundColor: '#666666'}}/>\n      </Row>\n  )\n}\n\nexport default FashionCard;\n","import React, { useEffect, useRef, useCallback } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Spin, BackTop } from 'antd';\nimport { UpOutlined } from '@ant-design/icons';\nimport {\n  getFashionsData,\n  selectCurrentPage,\n  selectFashionsList,\n  selectIsLoading,\n  selectPagesCount,\n  setCurrentPage\n} from '../../store/reducers/fashionsSlice';\nimport FashionCard from './Components/FashionCard';\nimport './Fashion.less'\n\nfunction FashionsList() {\n  const dispatch = useDispatch();\n  const isLoading = useSelector(selectIsLoading);\n  const currentPage = useSelector(selectCurrentPage);\n  const pagesCount = useSelector(selectPagesCount);\n  const fashionsList = useSelector(selectFashionsList);\n  const isEmpty = fashionsList.length === 0;\n  useEffect(() => {\n    dispatch(getFashionsData(1));\n  }, [dispatch]);\n  const observer = useRef();\n  const lastFashionRef = useCallback(node => {\n      if (isLoading) return\n      if (observer.current) observer.current.disconnect()\n      observer.current = new IntersectionObserver(entries => {\n        if (entries[0].isIntersecting && currentPage !== pagesCount) {\n          dispatch(setCurrentPage(currentPage + 1));\n          dispatch(getFashionsData(currentPage));\n        }\n      })\n      if(node) observer.current.observe(node)\n    }, [isLoading, currentPage, pagesCount, dispatch]);\n  return (\n    <div className='fashions-list-container'>\n    {\n      fashionsList.map((fashion, index) => {\n        if (fashionsList.length === index + 1) {\n          return (\n            <div ref={lastFashionRef}>\n              <FashionCard\n                key={fashion.fashionId}\n                pictUrl={fashion.pictUrl}\n                fashionId={fashion.fashionId}/>\n            </div>\n          )\n        }\n        return <FashionCard\n          key={fashion.fashionId}\n          pictUrl={fashion.pictUrl}\n          fashionId={fashion.fashionId}/>\n      })\n    }\n    {(isEmpty && !isLoading) && <div>Список подборок пуст</div>}\n    <BackTop visibilityHeight={1500}>\n      <div className='back-top'>\n        <UpOutlined />\n      </div>\n    </BackTop>\n    {isLoading && <Spin className='spin' size=\"large\"/>}\n  </div>\n  )\n}\n\nexport default FashionsList;\n","import React from 'react';\nimport PersonalInfo from './features/PersonalInfo/PersonalInfo';\nimport Menu from './features/Menu/Menu';\nimport FashionsList from './features/FashionList/FashionsList';\nimport './App.less';\n\nfunction App() {\n  return (\n    <div className='main'>\n      <PersonalInfo/>\n      <div>\n        <Menu/>\n        <FashionsList/>\n      </div>\n    </div>\n  )\n}\n\nexport default App;\n","import { put, select, takeEvery, call } from 'redux-saga/effects'\nimport { message } from 'antd';\nimport {\n  setUserInfo,\n  getUserData,\n  selectMnem\n} from '../reducers/userInfoSlice';\n\nconst fetchUserData = async (mnem) => await fetch(`https://looks.umastyle.club/custapi/allrest/fashion/publicuser?mnem=${mnem}`);\n\nfunction* getUserDataWorker() {\n  try {\n    const mnem = yield select(selectMnem);\n    const res = yield call(() => fetchUserData(mnem));\n    const { photoUrl, mysite, phone, email } = yield call(() => res.json())\n    yield put(setUserInfo({photoUrl, mysite, phone, email}));\n  } catch(e) {\n    message.error('Ошибка сети');\n  }\n};\n\nexport default function* userDataWatcher() {\n  yield takeEvery(getUserData().type, getUserDataWorker);\n};\n","import { put, select, takeEvery, call, all } from 'redux-saga/effects';\nimport { message } from 'antd';\nimport {\n  addFashionsList,\n  addProductsList,\n  getFashionsData,\n  getProductsData,\n  selectClassId,\n  setIsLoading,\n  setPagesCount,\n} from '../reducers/fashionsSlice';\nimport { selectMnem } from '../reducers/userInfoSlice';\n\nconst fetchFashionsList = (mnem, page, classId) =>\n  fetch(`https://looks.umastyle.club/custapi/allrest/fashion/listfilteredfashion?styleUserMnem=${mnem}&page=${page}&classId=${classId}`);\n\nconst fetchFashionProd = (fashionId) =>\n  fetch(`https://looks.umastyle.club/custapi/allrest/fashion/listfashionprod?fashionId=${fashionId}`);\n\nconst getFileUrl = (fileId) => `https://looks.umastyle.club/custapi/allrest/file/getimage/${fileId}`;\n\nfunction* getFashionsDataWorker(action) {\n  try {\n    const mnem = yield select(selectMnem);\n    const classId = yield select(selectClassId);\n    yield put(setIsLoading(true));\n    const res = yield call(() => fetchFashionsList(mnem, action.payload, classId));\n    const data = yield call(() => res.json());\n    const fashionsList = data.list.map(fashion => {\n      return {\n        fashionId: fashion.id,\n        pictUrl: fashion.collagePictId\n          ? getFileUrl(fashion.collagePictId)\n          : fashion.collagePictUrl\n      }\n    });\n    yield put(addFashionsList(fashionsList));\n    yield put(setPagesCount(data.totalPages));\n  } catch(e) {\n    message.error('Ошибка сети');\n  } finally {\n    yield put(setIsLoading(false));\n  }\n};\n\nfunction* getProductsDataWorker(action) {\n  try {\n    const res = yield call(() => fetchFashionProd(action.payload));\n    const data = yield call(() => res.json());\n    yield put(addProductsList({\n      fashionId: action.payload,\n      productsList: data.list\n    }));\n  } catch(e) {\n    console.error(e);\n  }\n};\n\nexport default function* fashionsDataWatcher() {\n  yield all([\n    takeEvery(getFashionsData().type, getFashionsDataWorker),\n    takeEvery(getProductsData().type, getProductsDataWorker),\n  ])\n};\n","import { all } from 'redux-saga/effects';\nimport userDataWatcher from './sagas/userInfoSaga';\nimport fashionsDataWatcher from './sagas/fashionsSaga';\n\nexport default function* mainSaga() {\n  yield all([\n      userDataWatcher(),\n      fashionsDataWatcher(),\n  ])\n};\n","import { configureStore } from '@reduxjs/toolkit';\nimport { enableMapSet } from 'immer';\nimport createSagaMiddleware from 'redux-saga'\nimport userInfoReducer from './reducers/userInfoSlice';\nimport fashionsReducer from './reducers/fashionsSlice';\nimport rootSaga from './rootSaga';\n\nenableMapSet();\nconst sagaMiddleware = createSagaMiddleware();\nexport const store = configureStore({\n  reducer: {\n    userInfo: userInfoReducer,\n    fashions: fashionsReducer,\n  },\n  middleware: [sagaMiddleware]\n});\n\nsagaMiddleware.run(rootSaga);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { store } from './store/store';\nimport { Provider } from 'react-redux';\nimport 'antd/dist/antd.less';\nimport './index.less';\n\nReactDOM.render(\n    <Provider store={store}>\n      <App />\n    </Provider>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}