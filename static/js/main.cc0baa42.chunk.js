(this["webpackJsonpuma-test"]=this["webpackJsonpuma-test"]||[]).push([[0],{112:function(e,t,n){},124:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(22),s=n.n(c),a=n(23),i=n(133),o=n(6);var u=function(e){var t=e.userPhotoUrl,n=e.mnem,r=e.insta;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("a",{href:r,rel:"noreferrer",target:"_blank",children:Object(o.jsx)(i.a,{src:t,size:118})}),Object(o.jsx)("div",{className:"mnem",children:Object(o.jsxs)("a",{href:r,rel:"noreferrer",target:"_blank",children:["@",n]})})]})},l=n(130);n(85);var j=function(e){var t=e.mysite,n=e.whatsapp,r=e.telegram,c=e.email;return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{children:"\u0421\u0441\u044b\u043b\u043a\u0438 \u0430\u0432\u0442\u043e\u0440\u0430"}),Object(o.jsx)(l.a,{className:"links-divider"}),Object(o.jsxs)("ul",{className:"links-list",children:[Object(o.jsx)("li",{className:"link",children:Object(o.jsx)("a",{href:t,rel:"noreferrer",target:"_blank",children:"\u041c\u043e\u0439 \u0441\u0430\u0439\u0442"})}),Object(o.jsx)("li",{className:"link",children:Object(o.jsx)("a",{href:n,rel:"noreferrer",target:"_blank",children:"WhatsApp"})}),Object(o.jsx)("li",{className:"link",children:Object(o.jsx)("a",{href:r,rel:"noreferrer",target:"_blank",children:"Telegram"})}),Object(o.jsx)("li",{className:"link",children:Object(o.jsx)("a",{href:c,rel:"noreferrer",target:"_blank",children:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})})]})]})},d=n(54),h=Object(d.b)({name:"userInfo",initialState:{mnem:"tanya_tilcha",photoUrl:"",mysite:"",phone:"",email:""},reducers:{setUserInfo:function(e,t){e.photoUrl=t.payload.photoUrl,e.mysite=t.payload.mysite,e.phone=t.payload.phone,e.email=t.payload.email},getUserData:function(){}}}),f=function(e){return e.userInfo.mnem},b=function(e){return e.userInfo.photoUrl},p=function(e){return"https://t.me/".concat(e.userInfo.mnem)},m=function(e){return"https://api.whatsapp.com/send?phone={".concat(e.userInfo.phone,"}")},O=function(e){return"https://www.instagram.com/".concat(e.userInfo.mnem)},x=function(e){return"mailto:".concat(e.userInfo.email)},v=function(e){return e.userInfo.mysite},g=h.actions,y=g.setUserInfo,w=g.getUserData,N=h.reducer;var I=function(){var e=Object(a.b)();return Object(r.useEffect)((function(){e(w())}),[e]),Object(o.jsx)("div",{className:"sidebar-container",children:Object(o.jsxs)("div",{className:"user-info-container",children:[Object(o.jsx)("div",{className:"user-photo-container",children:Object(o.jsx)(u,{userPhotoUrl:Object(a.c)(b),mnem:Object(a.c)(f),insta:Object(a.c)(O)})}),Object(o.jsx)(j,{mysite:Object(a.c)(v),whatsapp:Object(a.c)(m),telegram:Object(a.c)(p),email:Object(a.c)(x)})]})})},k=n(57),U=n(35),P=n(135);n(112);var C=function(){return Object(o.jsx)("div",{className:"menu-container",children:Object(o.jsxs)(k.a,{gutter:[16],justify:"start",children:[Object(o.jsx)(U.a,{children:Object(o.jsx)(P.a,{className:"menu-button",ghost:!0,children:"\u041e\u0434\u0435\u0436\u0434\u0430"})}),Object(o.jsx)(U.a,{children:Object(o.jsx)(P.a,{className:"menu-button",ghost:!0,children:"\u041f\u043e\u0434\u0431\u043e\u0440\u043a\u0438"})}),Object(o.jsx)(U.a,{children:Object(o.jsx)(P.a,{className:"menu-button",ghost:!0,children:"\u0414\u0435\u0442\u044f\u043c"})}),Object(o.jsx)(U.a,{children:Object(o.jsx)(P.a,{className:"menu-button",ghost:!0,children:"\u041a\u043d\u0438\u0433\u0438"})})]})})},L=n(136),F=n(131),M=n(139),E={classId:184,fashionsCount:null,pagesCount:null,currentPage:1,isLoading:!1,fashionsMap:new Map,productsMap:new Map},_=Object(d.b)({name:"fashions",initialState:E,reducers:{setIsLoading:function(e,t){e.isLoading=t.payload},setCurrentPage:function(e,t){e.currentPage=t.payload},setPagesCount:function(e,t){e.pagesCount=t.payload},setFashionsCount:function(e,t){e.fashionsCount=t.payload.fashionsCount},addFashion:function(e,t){e.fashionsMap.set(t.payload.fashionId,t.payload)},addFashionsList:function(e,t){t.payload.forEach((function(t){e.fashionsMap.set(t.fashionId,t)}))},addProductsList:function(e,t){e.productsMap.set(t.payload.fashionId,t.payload.productsList)},getFashionsData:function(){},getProductsData:function(){}}}),D=function(e){return Array.from(e.fashions.fashionsMap.values())},z=function(e){return e.fashions.classId},R=function(e){return e.fashions.currentPage},B=function(e){return e.fashions.pagesCount},A=function(e){return e.fashions.isLoading},S=_.actions,H=S.setIsLoading,J=S.setCurrentPage,W=S.setPagesCount,T=(S.setFashionsCount,S.addFashion,S.addProductsList),q=S.addFashionsList,G=S.getFashionsData,K=S.getProductsData,Q=_.reducer,V=n(132);n(48);var X=function(e){var t=e.pictUrl;return Object(o.jsxs)("div",{className:"card-size ",children:[Object(o.jsx)("div",{className:"fashion-image-title",children:"\u041f\u043e\u0434\u0431\u043e\u0440\u043a\u0430 \u043e\u0434\u0435\u0436\u0434\u044b"}),Object(o.jsx)(V.a,{className:"card-border",children:Object(o.jsx)("div",{className:"fashion-image-container",children:Object(o.jsx)("img",{src:t,alt:"",className:"limited-image"})})})]})},Y=n(134);var Z=function(e){var t=e.pictUrl,n=e.shopName,r=e.shopLink,c=e.price,s=new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(c);return Object(o.jsxs)("div",{style:{textAlign:"center"},children:[Object(o.jsxs)(V.a,{children:[Object(o.jsx)("div",{className:"shop-title",children:n}),Object(o.jsx)("div",{className:"product-image-container",children:Object(o.jsx)("img",{src:t,alt:"",className:"limited-image"})}),Object(o.jsx)("div",{children:s})]}),Object(o.jsx)(P.a,{href:r,target:"_blank",className:"to-shop-button",children:"\u0412 \u043c\u0430\u0433\u0430\u0437\u0438\u043d"})]})};var $=function(e){var t=e.products;return Object(o.jsx)(k.a,{className:"products-container",wrap:!0,gutter:[11,10],children:t.map((function(e){return Object(o.jsx)(U.a,{children:Object(o.jsx)(Z,{pictUrl:e.imgUrl,shopName:e.uproduct.shopName,shopLink:e.uproduct.xref,price:e.uproduct.price},e.id)})}))})},ee=n(137),te=n(138),ne=n(99);var re=function(e){var t=e.fashionId,n=Object(a.b)();Object(r.useEffect)((function(){n(K(t))}),[t,n]);var c,s,i=Object(a.c)((c=t,function(e){return e.fashions.productsMap.get(c)||[]})),u=function(){var e=Object(r.useState)({width:null,height:null}),t=Object(ne.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){var e=function(){c({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}().width<=700?3:8,l=i?(s=u,i.reduce((function(e,t){return e[e.length-1].length===s&&e.push([]),e[e.length-1].push(t),e}),[[]])):[[]],j=i.length<=u,d=0===i.length,h=Object(r.createRef)();return Object(o.jsx)("div",{children:Object(o.jsxs)(V.a,{className:"card-size",style:{border:"none"},children:[Object(o.jsxs)("div",{className:"carousel-header",children:[!d&&Object(o.jsx)("div",{className:"card-title",children:"\u0413\u0434\u0435 \u043a\u0443\u043f\u0438\u0442\u044c \u043f\u043e\u0445\u043e\u0436\u0435\u0435?"}),!j&&Object(o.jsxs)("div",{style:{marginRight:30},children:[Object(o.jsx)(ee.a,{onClick:function(){return h.current.prev()},className:"carousel-arrow"}),Object(o.jsx)(te.a,{onClick:function(){return h.current.next()},className:"carousel-arrow"})]})]}),Object(o.jsx)(Y.a,{ref:h,dots:!1,children:l[0].length&&l.map((function(e){return Object(o.jsx)($,{products:e})}))})]})})};var ce=function(e){var t=e.pictUrl,n=e.fashionId;return Object(o.jsxs)(k.a,{className:"fashion-container",children:[Object(o.jsx)(U.a,{style:{marginBottom:15},className:"card-indent",children:Object(o.jsx)(X,{pictUrl:t})}),Object(o.jsx)(U.a,{style:{marginBottom:15},children:Object(o.jsx)(re,{fashionId:n})}),Object(o.jsx)(l.a,{style:{backgroundColor:"#666666"}})]})};var se=function(){var e=Object(a.b)(),t=Object(a.c)(A),n=Object(a.c)(R),c=Object(a.c)(B),s=Object(a.c)(D),i=0===s.length;Object(r.useEffect)((function(){e(G(1))}),[e]);var u=Object(r.useRef)(),l=Object(r.useCallback)((function(r){t||(u.current&&u.current.disconnect(),u.current=new IntersectionObserver((function(t){t[0].isIntersecting&&n!==c&&(e(J(n+1)),e(G(n)))})),r&&u.current.observe(r))}),[t,n,c,e]);return Object(o.jsxs)("div",{className:"fashions-list-container",children:[s.map((function(e,t){return s.length===t+1?Object(o.jsx)("div",{ref:l,children:Object(o.jsx)(ce,{pictUrl:e.pictUrl,fashionId:e.fashionId},e.fashionId)}):Object(o.jsx)(ce,{pictUrl:e.pictUrl,fashionId:e.fashionId},e.fashionId)})),i&&!t&&Object(o.jsx)("div",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u0434\u0431\u043e\u0440\u043e\u043a \u043f\u0443\u0441\u0442"}),Object(o.jsx)(L.a,{visibilityHeight:1500,children:Object(o.jsx)("div",{className:"back-top",children:Object(o.jsx)(M.a,{})})}),t&&Object(o.jsx)(F.a,{className:"spin",size:"large"})]})};n(124);var ae=function(){return Object(o.jsxs)("div",{className:"main",children:[Object(o.jsx)(I,{}),Object(o.jsxs)("div",{children:[Object(o.jsx)(C,{}),Object(o.jsx)(se,{})]})]})},ie=n(24),oe=n(100),ue=n(26),le=n.n(ue),je=n(21),de=n(93),he=n(97),fe=le.a.mark(me),be=le.a.mark(Oe),pe=function(){var e=Object(de.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://looks.umastyle.club/custapi/allrest/fashion/publicuser?mnem=".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function me(){var e,t,n,r,c,s,a;return le.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Object(je.d)(f);case 3:return e=i.sent,i.next=6,Object(je.b)((function(){return pe(e)}));case 6:return t=i.sent,i.next=9,Object(je.b)((function(){return t.json()}));case 9:return n=i.sent,r=n.photoUrl,c=n.mysite,s=n.phone,a=n.email,i.next=16,Object(je.c)(y({photoUrl:r,mysite:c,phone:s,email:a}));case 16:i.next=21;break;case 18:i.prev=18,i.t0=i.catch(0),he.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0442\u0438");case 21:case"end":return i.stop()}}),fe,null,[[0,18]])}function Oe(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(je.e)(w().type,me);case 2:case"end":return e.stop()}}),be)}var xe=le.a.mark(we),ve=le.a.mark(Ne),ge=le.a.mark(Ie),ye=function(e,t,n){return fetch("https://looks.umastyle.club/custapi/allrest/fashion/listfilteredfashion?styleUserMnem=".concat(e,"&page=").concat(t,"&classId=").concat(n))};function we(e){var t,n,r,c,s;return le.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(je.d)(f);case 3:return t=a.sent,a.next=6,Object(je.d)(z);case 6:return n=a.sent,a.next=9,Object(je.c)(H(!0));case 9:return a.next=11,Object(je.b)((function(){return ye(t,e.payload,n)}));case 11:return r=a.sent,a.next=14,Object(je.b)((function(){return r.json()}));case 14:return c=a.sent,s=c.list.map((function(e){return{fashionId:e.id,pictUrl:e.collagePictId?(t=e.collagePictId,"https://looks.umastyle.club/custapi/allrest/file/getimage/".concat(t)):e.collagePictUrl};var t})),a.next=18,Object(je.c)(q(s));case 18:return a.next=20,Object(je.c)(W(c.totalPages));case 20:a.next=25;break;case 22:a.prev=22,a.t0=a.catch(0),he.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0442\u0438");case 25:return a.prev=25,a.next=28,Object(je.c)(H(!1));case 28:return a.finish(25);case 29:case"end":return a.stop()}}),xe,null,[[0,22,25,29]])}function Ne(e){var t,n;return le.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(je.b)((function(){return t=e.payload,fetch("https://looks.umastyle.club/custapi/allrest/fashion/listfashionprod?fashionId=".concat(t));var t}));case 3:return t=r.sent,r.next=6,Object(je.b)((function(){return t.json()}));case 6:return n=r.sent,r.next=9,Object(je.c)(T({fashionId:e.payload,productsList:n.list}));case 9:r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),console.error(r.t0);case 14:case"end":return r.stop()}}),ve,null,[[0,11]])}function Ie(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(je.a)([Object(je.e)(G().type,we),Object(je.e)(K().type,Ne)]);case 2:case"end":return e.stop()}}),ge)}var ke=le.a.mark(Ue);function Ue(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(je.a)([Oe(),Ie()]);case 2:case"end":return e.stop()}}),ke)}Object(ie.d)();var Pe=Object(oe.a)(),Ce=Object(d.a)({reducer:{userInfo:N,fashions:Q},middleware:[Pe]});Pe.run(Ue);n(126),n(127);s.a.render(Object(o.jsx)(a.a,{store:Ce,children:Object(o.jsx)(ae,{})}),document.getElementById("root"))},48:function(e,t,n){},85:function(e,t,n){}},[[128,1,2]]]);
//# sourceMappingURL=main.cc0baa42.chunk.js.map